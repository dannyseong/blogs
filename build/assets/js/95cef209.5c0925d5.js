"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3498],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>f});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(a),u=r,f=c["".concat(o,".").concat(u)]||c[u]||m[u]||l;return a?n.createElement(f,i(i({ref:t},d),{},{components:a})):n.createElement(f,i({ref:t},d))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[c]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},338:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={title:"Internal Middleware: express.static()\n",tags:["javascript","nodejs","express"],sidebar_label:"7. Express.static()\n",sidebar_position:7},i=void 0,s={unversionedId:"Express/static_middleware",id:"Express/static_middleware",title:"Internal Middleware: express.static()\n",description:"One of the Express.js powerful features is the ability to serve static files such as images, CSS files, and JavaScript files. This is where express.static() comes into play. In this article, we'll explore how to use express.static() to serve static files and create a more dynamic web experience.",source:"@site/docs/Express/7_static_middleware.md",sourceDirName:"Express",slug:"/Express/static_middleware",permalink:"/docs/Express/static_middleware",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Express/7_static_middleware.md",tags:[{label:"javascript",permalink:"/docs/tags/javascript"},{label:"nodejs",permalink:"/docs/tags/nodejs"},{label:"express",permalink:"/docs/tags/express"}],version:"current",sidebarPosition:7,frontMatter:{title:"Internal Middleware: express.static()\n",tags:["javascript","nodejs","express"],sidebar_label:"7. Express.static()\n",sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"6. Express.Router()\n",permalink:"/docs/Express/router"},next:{title:"8. Express.urlencoded()\n",permalink:"/docs/Express/urlencoded_middleware"}},o={},p=[{value:"What is express.static()?",id:"what-is-expressstatic",level:2},{value:"Syntax",id:"syntax",level:3},{value:"Options",id:"options",level:2},{value:"Example Usage",id:"example-usage",level:3},{value:"Note on Performance",id:"note-on-performance",level:2}],d={toc:p},c="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"One of the Express.js powerful features is the ability to serve ",(0,r.kt)("inlineCode",{parentName:"p"},"static files")," such as images, CSS files, and JavaScript files. This is where ",(0,r.kt)("inlineCode",{parentName:"p"},"express.static()")," comes into play. In this article, we'll explore how to use ",(0,r.kt)("inlineCode",{parentName:"p"},"express.static()")," to serve static files and create a more dynamic web experience."),(0,r.kt)("h2",{id:"what-is-expressstatic"},"What is express.static()?"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"express.static()")," is a built-in middleware function in Express. It serves static files from a specified root directory, combining ",(0,r.kt)("inlineCode",{parentName:"p"},"req.url")," with the provided root directory to determine the file to serve. If a file is not found, it calls ",(0,r.kt)("inlineCode",{parentName:"p"},"next()")," to move on to the next middleware, allowing for stacking and fall-backs."),(0,r.kt)("h3",{id:"syntax"},"Syntax"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"express.static(root, [options]);\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"root"),": Specifies the root directory from which to serve static assets."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"options"),": An optional object that can contain various properties to customise the behavior.")),(0,r.kt)("h2",{id:"options"},"Options"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dotfiles"),(0,r.kt)("td",{parentName:"tr",align:null},"Determines how dotfiles are treated"),(0,r.kt)("td",{parentName:"tr",align:null},"String"),(0,r.kt)("td",{parentName:"tr",align:null},'"ignore"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"etag"),(0,r.kt)("td",{parentName:"tr",align:null},"Enable or diable etag generation"),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"extensions"),(0,r.kt)("td",{parentName:"tr",align:null},"Sets file extension fallbacks."),(0,r.kt)("td",{parentName:"tr",align:null},"Mixed"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fallthrough"),(0,r.kt)("td",{parentName:"tr",align:null},"Let client errors fall-through as unhandled requests or forward a client error."),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"immutable"),(0,r.kt)("td",{parentName:"tr",align:null},"Enable or disable the immutable directive in the Cache-Control response header."),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"dex"),(0,r.kt)("td",{parentName:"tr",align:null},"Sends the specified directory index file."),(0,r.kt)("td",{parentName:"tr",align:null},"Mixed"),(0,r.kt)("td",{parentName:"tr",align:null},'"index.html"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"lastModified"),(0,r.kt)("td",{parentName:"tr",align:null},"Set the Last-Modified header to the last modified date of the file on the OS."),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"maxAge"),(0,r.kt)("td",{parentName:"tr",align:null},"Set the max-age property of the Cache-Control header in milliseconds or a string in ms format."),(0,r.kt)("td",{parentName:"tr",align:null},"Number"),(0,r.kt)("td",{parentName:"tr",align:null},"0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"redirect"),(0,r.kt)("td",{parentName:"tr",align:null},'Redirect to trailing "/" when the pathname is a directory.'),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"true")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"setHeaders"),(0,r.kt)("td",{parentName:"tr",align:null},"Function for setting HTTP headers to serve with the file."),(0,r.kt)("td",{parentName:"tr",align:null},"Function"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"example-usage"},"Example Usage"),(0,r.kt)("p",null,"Here's an example of using express.static with an elaborate options object:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const options = {\n  dotfiles: 'ignore',\n  etag: false,\n  extensions: ['htm', 'html'],\n  index: false,\n  maxAge: '1d',\n  redirect: false,\n  setHeaders: function (res, path, stat) {\n    res.set('x-timestamp', Date.now());\n  },\n};\n\napp.use(express.static('public', options));\n\napp.listen(8080);\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Now, you can load the files that are in the ",(0,r.kt)("inlineCode",{parentName:"li"},"public")," directory:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-url"},"http://localhost:3000/images/kitten.jpg\nhttp://localhost:3000/css/style.css\nhttp://localhost:3000/js/app.js\nhttp://localhost:3000/images/bg.png\nhttp://localhost:3000/hello.html\n")),(0,r.kt)("h2",{id:"note-on-performance"},"Note on Performance"),(0,r.kt)("p",null,"For best results, it's recommended to use a reverse proxy cache to improve the performance of serving static assets."),(0,r.kt)("p",null,"express.static() is a versatile and essential middleware function in Express.js for serving static files. With its various options, developers can have fine-grained control over how static assets are served, enhancing the efficiency and responsiveness of web applications."),(0,r.kt)("p",null,"For more information, you can refer to the official Express.js documentation on",(0,r.kt)("a",{parentName:"p",href:"https://expressjs.com/en/starter/static-files.html"}," Serving static files")," in Express and ",(0,r.kt)("a",{parentName:"p",href:"https://expressjs.com/en/guide/using-middleware.html#middleware.built-in"},"Using middleware - Built-in middleware"),"."))}m.isMDXComponent=!0}}]);