"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1473],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,g=c["".concat(l,".").concat(d)]||c[d]||m[d]||i;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1902:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const i={title:"Input Validation",tags:["php"],sidebar_label:"19. Input Validation",sidebar_position:19},o=void 0,s={unversionedId:"PHP/input_validation",id:"PHP/input_validation",title:"Input Validation",description:"Input validation is the process of checking that data entered by users is valid, e.g., that names are nonempty, that email addresses have valid syntax, that numeric fields are numbers in the correct range, that username/password pairs correspond to registered users, and so on.",source:"@site/docs/PHP/19_input_validation.md",sourceDirName:"PHP",slug:"/PHP/input_validation",permalink:"/docs/PHP/input_validation",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/PHP/19_input_validation.md",tags:[{label:"php",permalink:"/docs/tags/php"}],version:"current",sidebarPosition:19,frontMatter:{title:"Input Validation",tags:["php"],sidebar_label:"19. Input Validation",sidebar_position:19},sidebar:"tutorialSidebar",previous:{title:"18. Input Sanitisation",permalink:"/docs/PHP/input_sanitisation"},next:{title:"20. PHP Data Objects (PDO)",permalink:"/docs/PHP/php_data_objects"}},l={},p=[{value:"Test if a string is empty",id:"test-if-a-string-is-empty",level:2},{value:"Test if a string contains a number:",id:"test-if-a-string-contains-a-number",level:2},{value:"Test if a string contains an integer:",id:"test-if-a-string-contains-an-integer",level:2}],u={toc:p},c="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(c,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Input validation is the process of ",(0,r.kt)("strong",{parentName:"p"},"checking that data entered by users is valid"),", e.g., that names are nonempty, that email addresses have valid syntax, that numeric fields are numbers in the correct range, that username/password pairs correspond to registered users, and so on."),(0,r.kt)("p",null,"Input validation must be performed on the server. In addition to server side validation, input validation may also be performed on the client (using HTML/JavaScript) to reduce communication load, to reduce server load, and to provide faster feedback to users. Client side validation can be by passed."),(0,r.kt)("h2",{id:"test-if-a-string-is-empty"},"Test if a string is empty"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'if (empty($name)) {\n  echo "name is empty";\n  exit;\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Be careful with empty as it considers the following also to be empty:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'"0"'),(0,r.kt)("li",{parentName:"ul"},'"0.0"')),(0,r.kt)("h2",{id:"test-if-a-string-contains-a-number"},"Test if a string contains a number:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'if (is_numeric($number)) {\n  echo "is a number";\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'Floating point numbers and even numbers with commas will return true, e.g. "100,000".')),(0,r.kt)("h2",{id:"test-if-a-string-contains-an-integer"},"Test if a string contains an integer:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A string can be converted to an integer using the ",(0,r.kt)("inlineCode",{parentName:"li"},"intval()")," function:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},"$int = intval('5.2');\necho $int; // prints 5\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You can test whether a string contains an integer using the following test:",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-php"},'if($number == intval($number)){\n  echo "$number is an integer";\n}\n'))),(0,r.kt)("li",{parentName:"ul"},'String to integer conversion in PHP only converts the first portion of the string. Even though "100,000\u201c returns true by is_numeric(), intval() will return 100.'),(0,r.kt)("li",{parentName:"ul"},'It would seem that "100,000" == 100 would return false, but it doesn\'t.'),(0,r.kt)("li",{parentName:"ul"},"In addition, when a string and an integer are compared, PHP attempts to convert the string to an integer so that two integers can be compared."),(0,r.kt)("li",{parentName:"ul"},'In the above example the string "100,000" is also converted to 100 (only the first portion is converted), therefore the comparison becomes 100 == 100, which is ',(0,r.kt)("inlineCode",{parentName:"li"},"true"),"."),(0,r.kt)("li",{parentName:"ul"},"To work around PHP's unusual treatment of commas, we must convert the ",(0,r.kt)("inlineCode",{parentName:"li"},"intval()")," result to a string using ",(0,r.kt)("inlineCode",{parentName:"li"},"strval()"),":",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-php"},'if ($number == strval(intval($number))) {\n  echo "$number is an integer";\n}\n'))),(0,r.kt)("li",{parentName:"ul"},'The result is that the original string "100,000\u201c is compared with the string "100", which is false.'),(0,r.kt)("li",{parentName:"ul"},"Alternatively we could replace the commas with empty strings, before doing the integer check:",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-php"},"$number = str_replace(',', '', $number);\n")))))}m.isMDXComponent=!0}}]);